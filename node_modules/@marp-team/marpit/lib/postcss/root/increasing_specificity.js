"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.pseudoClass = exports.default = void 0;

var _postcss_plugin = _interopRequireDefault(require("../../helpers/postcss_plugin"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/** @module */
const pseudoClass = ':marpit-root';
exports.pseudoClass = pseudoClass;
const matcher = new RegExp(`\\b${pseudoClass}\\b`, 'g');
/**
 * Marpit PostCSS root increasing specificity plugin.
 *
 * Replace `:marpit-root` pseudo-class selector into `:not(a)`, to increase
 * specificity. `:marpit-root` is always added to `section` selector by root
 * replace plugin so `:not(a)` must always match too.
 *
 * @alias module:postcss/root/increasing_specificity
 */

const plugin = (0, _postcss_plugin.default)('marpit-postcss-root-increasing-specificity', () => css => css.walkRules(rule => {
  rule.selectors = rule.selectors.map(selector => selector.replace(matcher, ':not(a)'));
}));
var _default = plugin;
exports.default = _default;